server {
    listen      127.0.0.1:8080;
    server_name localhost;

    # "/" will serve the project root, where index.html already exists
    # CWD = /.../Webserv/test  ->  root "../" = /.../Webserv
    root        ../;
    index       index.html;

    client_max_body_size 1M;

    # ------------------------------
    # 1) "/" must answer to GET ONLY
    # ------------------------------
    location / {
        methods     GET;
        autoindex   off;
    }

    # ------------------------------------------
    # 2) "/put_test/*" -> PUT uploads somewhere
    #    CWD = /Webserv/test, so this is /Webserv/test/uploads
    # ------------------------------------------
    location /put_test {
        methods      PUT;
        autoindex    off;
        upload_store ./uploads;
    }

    # -------------------------------------------------
    # 3) "/post_body" -> POST only, max body size = 100
    # -------------------------------------------------
    location /post_body {
        methods              POST;
        autoindex            off;
        client_max_body_size 100;
    }

    # ----------------------------------------------------------------
    # 4) "/directory/"
    #    - root = YoupiBanane repo inside /Webserv/test
    #    - GET /directory/ -> youpi.bad_extension
    #    - POST *.bla      -> ./cgi_tester
    # ----------------------------------------------------------------
    location /directory {
        methods     GET POST;

        # CWD = /Webserv/test  ->  root "./YoupiBanane"
        root        ./YoupiBanane;
        index       youpi.bad_extension;
        autoindex   off;

        # Any ".bla" here with POST should be handled by cgi_tester
        # Path: /Webserv/test/cgi_tester
        cgi_pass    .bla ./cgi_tester;
    }
}