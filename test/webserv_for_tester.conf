server {
    listen      127.0.0.1:8080;
    server_name localhost;

    # "/" → /Webserv/test/YoupiBanane/youpi.bad_extension
    root        ./test/YoupiBanane;
    index       youpi.bad_extension;

    client_max_body_size 1M;

    # 1) "/" must answer to GET ONLY
    location / {
        methods     GET;
        autoindex   off;
    }

    # 2) "/put_test/*" → PUT uploads
    #    Files will be saved into: /Webserv/test/uploads
    location /put_test {
        methods      PUT;
        autoindex    off;
        upload_store ./test/uploads;
    }

    # 3) "/post_body" → POST only, max body 100 bytes
    location /post_body {
        methods              POST;
        autoindex            off;
        client_max_body_size 100;
    }

    # 4) "/directory/":
    #   - root = YoupiBanane
    #   - GET /directory/ → YoupiBanane/youpi.bad_extension
    #   - POST *.bla      → handled by ./cgi_tester
    location /directory {
        methods     GET POST;

        root        ./test/YoupiBanane;
        index       youpi.bad_extension;
        autoindex   off;

        # Any *.bla posted here will be executed via /Webserv/test/cgi_tester
        cgi_pass    .bla ./cgi_tester;
    }
}
