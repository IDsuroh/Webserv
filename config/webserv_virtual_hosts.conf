# Random junk to test skipping of garbage / comments
this is totally invalid 123 !!! just to see what the parser does

# Default catch-all server (no specific server_name)
server {
    listen 0.0.0.0:8080;
    server_name default;

    root        ./default_site;
    index       index.html;
    error_page  404 ./errors/404.html;

    location / {
        methods   GET;
        autoindex off;
    }
}

# blog.local → separate root
server {
    listen 0.0.0.0:8080;
    server_name blog.local www.blog.local;

    root        ./blog;
    index       index.html;
    error_page  404 ./errors/blog_404.html;

    location / {
        methods   GET;
        autoindex off;
    }

    location /posts {
        methods   GET;
        autoindex on;
    }
}

# admin.local → restricted methods, different error page
server {
    listen 0.0.0.0:8080;
    server_name admin.local;

    root        ./admin_panel;
    index       index.html;
    error_page  403 ./errors/admin_403.html;
    error_page  404 ./errors/admin_404.html;

    location / {
        methods   GET;
        autoindex off;
    }

    location /config {
        methods   GET POST DELETE;
        autoindex off;
    }
}